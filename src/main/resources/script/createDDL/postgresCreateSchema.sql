##################  replace batch only #

DROP TABLE med_dev.batch_step_execution_context;
DROP TABLE med_dev.batch_job_execution_params;
DROP TABLE med_dev.batch_step_execution;


DROP TABLE med_dev.batch_job_execution_context;
DROP TABLE med_dev.batch_job_execution;

DROP TABLE med_dev.batch_job_instance;
commit;

DROP SEQUENCE med_dev.batch_job_execution_seq;
DROP SEQUENCE med_dev.batch_job_seq;
DROP SEQUENCE med_dev.batch_step_execution_seq;
commit;


CREATE SEQUENCE med_dev.BATCH_STEP_EXECUTION_SEQ as BIGINT START WITH 1 INCREMENT BY 1 MAXVALUE 9223372036854775807 NO CYCLE;
CREATE SEQUENCE med_dev.BATCH_JOB_EXECUTION_SEQ as BIGINT START WITH 1 INCREMENT BY 1 MAXVALUE 9223372036854775807 NO CYCLE;
CREATE SEQUENCE med_dev.BATCH_JOB_SEQ as BIGINT START WITH 1 INCREMENT BY 1 MAXVALUE 9223372036854775807 NO CYCLE;
commit;



CREATE TABLE med_dev.BATCH_JOB_INSTANCE  (
	JOB_INSTANCE_ID BIGINT  NOT NULL PRIMARY KEY ,
	VERSION BIGINT ,
	JOB_NAME VARCHAR(100) NOT NULL,
	JOB_KEY VARCHAR(32) NOT NULL,
	constraint JOB_INST_UN unique (JOB_NAME, JOB_KEY)
) ;
commit;

CREATE TABLE med_dev.BATCH_JOB_EXECUTION  (
	JOB_EXECUTION_ID BIGINT  NOT NULL PRIMARY KEY ,
	VERSION BIGINT  ,
	JOB_INSTANCE_ID BIGINT NOT NULL,
	CREATE_TIME TIMESTAMP NOT NULL,
	START_TIME TIMESTAMP DEFAULT NULL ,
	END_TIME TIMESTAMP DEFAULT NULL ,
	STATUS VARCHAR(10) ,
	EXIT_CODE VARCHAR(2500) ,
	EXIT_MESSAGE VARCHAR(2500) ,
	LAST_UPDATED TIMESTAMP,
	JOB_CONFIGURATION_LOCATION VARCHAR(2500) NULL,
	constraint JOB_INST_EXEC_FK foreign key (JOB_INSTANCE_ID)
	references med_dev.BATCH_JOB_INSTANCE(JOB_INSTANCE_ID)
) ;
commit;

CREATE TABLE med_dev.BATCH_JOB_EXECUTION_PARAMS  (
	JOB_EXECUTION_ID BIGINT NOT NULL ,
	TYPE_CD VARCHAR(6) NOT NULL ,
	KEY_NAME VARCHAR(100) NOT NULL ,
	STRING_VAL VARCHAR(250) ,
	DATE_VAL TIMESTAMP DEFAULT NULL ,
	LONG_VAL BIGINT ,
	DOUBLE_VAL DOUBLE PRECISION ,
	IDENTIFYING CHAR(1) NOT NULL ,
	constraint JOB_EXEC_PARAMS_FK foreign key (JOB_EXECUTION_ID)
	references med_dev.BATCH_JOB_EXECUTION(JOB_EXECUTION_ID)
) ;
commit;

CREATE TABLE med_dev.BATCH_STEP_EXECUTION  (
	STEP_EXECUTION_ID BIGINT  NOT NULL PRIMARY KEY ,
	VERSION BIGINT NOT NULL,
	STEP_NAME VARCHAR(100) NOT NULL,
	JOB_EXECUTION_ID BIGINT NOT NULL,
	START_TIME TIMESTAMP NOT NULL ,
	END_TIME TIMESTAMP DEFAULT NULL ,
	STATUS VARCHAR(10) ,
	COMMIT_COUNT BIGINT ,
	READ_COUNT BIGINT ,
	FILTER_COUNT BIGINT ,
	WRITE_COUNT BIGINT ,
	READ_SKIP_COUNT BIGINT ,
	WRITE_SKIP_COUNT BIGINT ,
	PROCESS_SKIP_COUNT BIGINT ,
	ROLLBACK_COUNT BIGINT ,
	EXIT_CODE VARCHAR(2500) ,
	EXIT_MESSAGE VARCHAR(2500) ,
	LAST_UPDATED TIMESTAMP,
	constraint JOB_EXEC_STEP_FK foreign key (JOB_EXECUTION_ID)
	references med_dev.BATCH_JOB_EXECUTION(JOB_EXECUTION_ID)
) ;
commit;

CREATE TABLE med_dev.BATCH_STEP_EXECUTION_CONTEXT  (
	STEP_EXECUTION_ID BIGINT NOT NULL PRIMARY KEY,
	SHORT_CONTEXT VARCHAR(2500) NOT NULL,
	SERIALIZED_CONTEXT TEXT ,
	constraint STEP_EXEC_CTX_FK foreign key (STEP_EXECUTION_ID)
	references med_dev.BATCH_STEP_EXECUTION(STEP_EXECUTION_ID)
) ;
commit;

CREATE TABLE med_dev.BATCH_JOB_EXECUTION_CONTEXT  (
	JOB_EXECUTION_ID BIGINT NOT NULL PRIMARY KEY,
	SHORT_CONTEXT VARCHAR(2500) NOT NULL,
	SERIALIZED_CONTEXT TEXT ,
	constraint JOB_EXEC_CTX_FK foreign key (JOB_EXECUTION_ID)
	references med_dev.BATCH_JOB_EXECUTION(JOB_EXECUTION_ID)
) ;
commit;






########################  Order WORKS  2-8-2022  ################################################

DROP TABLE med_local.batch_step_execution_context;
DROP TABLE med_local.batch_job_execution_params;
DROP TABLE med_local.batch_step_execution;
DROP TABLE med_local.batch_job_execution;
DROP TABLE med_local.batch_job_execution_context;
DROP TABLE med_local.batch_job_instance;
commit;

DROP SEQUENCE med_local.batch_job_execution_seq;
DROP SEQUENCE med_local.batch_job_seq;
DROP SEQUENCE med_local.batch_step_execution_seq;
commit;

DROP TABLE med_local.med_audit;
DROP TABLE med_local.med_addr_history;
DROP TABLE med_local.med_security;
DROP TABLE med_local.med_ref;
DROP TABLE med_local.med_ops;
DROP TABLE med_local.med_upin_history;
DROP TABLE med_local.med_ext_intr;
DROP TABLE med_local.med_nsc_history;
DROP TABLE med_local.med_dob_history;
DROP TABLE med_local.med_control;
DROP TABLE med_local.med_file_log;
DROP TABLE med_local.med_flst_load;
DROP TABLE med_local.med_rprt_err;
DROP TABLE med_local.med_wvr_history;
DROP TABLE med_local.med_alias_nm;
DROP TABLE med_local.med_name_history;
DROP TABLE med_local.med_ein_history;
DROP TABLE med_local.med_sn_rst;
DROP TABLE med_local.med_npi_history;
DROP TABLE med_local.med_npi_ext_intr;
DROP TABLE med_local.med_ssn_history;
DROP TABLE med_local.med_rprt_dtl;
DROP TABLE med_local.med_oscar_history;
COMMIT;

DROP TABLE med_local.med_oig_load;
DROP TABLE med_local.med_ex_provider;
DROP TABLE med_local.med_file_control;
COMMIT;


########################  Order WORKS  2-8-2022  ################################################

CREATE SEQUENCE med_local.BATCH_STEP_EXECUTION_SEQ as BIGINT START WITH 1 INCREMENT BY 1 MAXVALUE 9223372036854775807 NO CYCLE;
CREATE SEQUENCE med_local.BATCH_JOB_EXECUTION_SEQ as BIGINT START WITH 1 INCREMENT BY 1 MAXVALUE 9223372036854775807 NO CYCLE;
CREATE SEQUENCE med_local.BATCH_JOB_SEQ as BIGINT START WITH 1 INCREMENT BY 1 MAXVALUE 9223372036854775807 NO CYCLE;
commit;

CREATE TABLE med_local.BATCH_JOB_INSTANCE  (
	JOB_INSTANCE_ID BIGINT  NOT NULL PRIMARY KEY ,
	VERSION BIGINT ,
	JOB_NAME VARCHAR(100) NOT NULL,
	JOB_KEY VARCHAR(32) NOT NULL,
	constraint JOB_INST_UN unique (JOB_NAME, JOB_KEY)
) ;
commit;

CREATE TABLE med_local.BATCH_JOB_EXECUTION  (
	JOB_EXECUTION_ID BIGINT  NOT NULL PRIMARY KEY ,
	VERSION BIGINT  ,
	JOB_INSTANCE_ID BIGINT NOT NULL,
	CREATE_TIME TIMESTAMP NOT NULL,
	START_TIME TIMESTAMP DEFAULT NULL ,
	END_TIME TIMESTAMP DEFAULT NULL ,
	STATUS VARCHAR(10) ,
	EXIT_CODE VARCHAR(2500) ,
	EXIT_MESSAGE VARCHAR(2500) ,
	LAST_UPDATED TIMESTAMP,
	JOB_CONFIGURATION_LOCATION VARCHAR(2500) NULL,
	constraint JOB_INST_EXEC_FK foreign key (JOB_INSTANCE_ID)
	references med_local.BATCH_JOB_INSTANCE(JOB_INSTANCE_ID)
) ;
commit;

CREATE TABLE med_local.BATCH_JOB_EXECUTION_PARAMS  (
	JOB_EXECUTION_ID BIGINT NOT NULL ,
	TYPE_CD VARCHAR(6) NOT NULL ,
	KEY_NAME VARCHAR(100) NOT NULL ,
	STRING_VAL VARCHAR(250) ,
	DATE_VAL TIMESTAMP DEFAULT NULL ,
	LONG_VAL BIGINT ,
	DOUBLE_VAL DOUBLE PRECISION ,
	IDENTIFYING CHAR(1) NOT NULL ,
	constraint JOB_EXEC_PARAMS_FK foreign key (JOB_EXECUTION_ID)
	references med_local.BATCH_JOB_EXECUTION(JOB_EXECUTION_ID)
) ;
commit;

CREATE TABLE med_local.BATCH_STEP_EXECUTION  (
	STEP_EXECUTION_ID BIGINT  NOT NULL PRIMARY KEY ,
	VERSION BIGINT NOT NULL,
	STEP_NAME VARCHAR(100) NOT NULL,
	JOB_EXECUTION_ID BIGINT NOT NULL,
	START_TIME TIMESTAMP NOT NULL ,
	END_TIME TIMESTAMP DEFAULT NULL ,
	STATUS VARCHAR(10) ,
	COMMIT_COUNT BIGINT ,
	READ_COUNT BIGINT ,
	FILTER_COUNT BIGINT ,
	WRITE_COUNT BIGINT ,
	READ_SKIP_COUNT BIGINT ,
	WRITE_SKIP_COUNT BIGINT ,
	PROCESS_SKIP_COUNT BIGINT ,
	ROLLBACK_COUNT BIGINT ,
	EXIT_CODE VARCHAR(2500) ,
	EXIT_MESSAGE VARCHAR(2500) ,
	LAST_UPDATED TIMESTAMP,
	constraint JOB_EXEC_STEP_FK foreign key (JOB_EXECUTION_ID)
	references med_local.BATCH_JOB_EXECUTION(JOB_EXECUTION_ID)
) ;
commit;

CREATE TABLE med_local.BATCH_STEP_EXECUTION_CONTEXT  (
	STEP_EXECUTION_ID BIGINT NOT NULL PRIMARY KEY,
	SHORT_CONTEXT VARCHAR(2500) NOT NULL,
	SERIALIZED_CONTEXT TEXT ,
	constraint STEP_EXEC_CTX_FK foreign key (STEP_EXECUTION_ID)
	references med_local.BATCH_STEP_EXECUTION(STEP_EXECUTION_ID)
) ;
commit;

CREATE TABLE med_local.BATCH_JOB_EXECUTION_CONTEXT  (
	JOB_EXECUTION_ID BIGINT NOT NULL PRIMARY KEY,
	SHORT_CONTEXT VARCHAR(2500) NOT NULL,
	SERIALIZED_CONTEXT TEXT ,
	constraint JOB_EXEC_CTX_FK foreign key (JOB_EXECUTION_ID)
	references med_local.BATCH_JOB_EXECUTION(JOB_EXECUTION_ID)
) ;
commit;

######################## IDENTITY Tables  WORKS  2-8-2022  ################################################

CREATE TABLE med_local.MED_OIG_LOAD (
		LOAD_ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY ( START WITH 74 INCREMENT BY 1 MINVALUE 74 MAXVALUE 2147483647 NO CYCLE CACHE 20),
		MED_REC_ID INTEGER NOT NULL DEFAULT 0,
		REC_STUS_CD CHAR(1) NOT NULL DEFAULT 'I',
		POSS_IND CHAR(1) NOT NULL DEFAULT 'N',
		ERR_IND CHAR(1) NOT NULL DEFAULT 'N',
		BUSN_NM CHAR(30) NOT NULL DEFAULT ' ',
		FST_NM CHAR(15) NOT NULL DEFAULT ' ',
		MI_NM CHAR(15) NOT NULL DEFAULT ' ',
		LAST_NM CHAR(20) NOT NULL DEFAULT ' ',
		SSN_ID CHAR(9) NOT NULL DEFAULT ' ',
		BRTH_DT CHAR(8) NOT NULL DEFAULT ' ',
		STR_ADR CHAR(30) NOT NULL DEFAULT ' ',
		CITY_ADR CHAR(20) NOT NULL DEFAULT ' ',
		ST_ADR CHAR(2) NOT NULL DEFAULT ' ',
		ZIP_ADR CHAR(9) NOT NULL DEFAULT ' ',
		UPIN_ID CHAR(6) NOT NULL DEFAULT ' ',
		SPCY_TXT CHAR(20) NOT NULL DEFAULT ' ',
		GEN_SPCY_TXT CHAR(20) NOT NULL DEFAULT ' ',
		SNCT_TYPE_CD CHAR(9) NOT NULL DEFAULT ' ',
		SNCT_DT CHAR(8) NOT NULL DEFAULT ' ',
		RNST_DT CHAR(8) NOT NULL DEFAULT ' ',
		LST_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		OPRR_USER_ID CHAR(8) NOT NULL DEFAULT USER,
		NPI_ID CHAR(10) NOT NULL DEFAULT ' ',
		MED_FILE_ID INTEGER NOT NULL DEFAULT '0',
		PRIMARY KEY (LOAD_ID)
	);
commit;

CREATE TABLE med_local.MED_FILE_CONTROL (
		MED_FILE_CONTROL_ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY ( START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 NO CYCLE CACHE 20),
		MED_FILE_ID INTEGER NOT NULL,
		FILE_STATUS VARCHAR(10) NOT NULL,
		PROCESS_DATE TIMESTAMP NOT NULL,
		FILE_NAME VARCHAR(100) NOT NULL,
		FILE_TYPE VARCHAR(20) NOT NULL,
		FILE_NAME_OUT VARCHAR(100),
		FUTURE_1 VARCHAR(100),
		FUTURE_2 VARCHAR(100),
		PRIMARY KEY	(MED_FILE_CONTROL_ID)
	);
commit;

CREATE TABLE med_local.MED_EX_PROVIDER (
		MED_REC_ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY ( START WITH 1 INCREMENT BY 1 MINVALUE 1 MAXVALUE 2147483647 NO CYCLE CACHE 20),
		TM_STMP_TM TIMESTAMP NOT NULL,
		BUSN_NM CHAR(30) NOT NULL DEFAULT ' ',
		FST_NM CHAR(15) NOT NULL DEFAULT ' ',
		MI_NM CHAR(15) NOT NULL DEFAULT ' ',
		LAST_NM CHAR(20) NOT NULL DEFAULT ' ',
		SFX_NM CHAR(5) NOT NULL DEFAULT ' ',
		SSN_ID CHAR(9) NOT NULL DEFAULT ' ',
		BRTH_DT DATE,
		STR_ADR CHAR(30) NOT NULL DEFAULT ' ',
		CITY_ADR CHAR(20) NOT NULL DEFAULT ' ',
		ST_ADR CHAR(2) NOT NULL DEFAULT ' ',
		ZIP_ADR CHAR(9) NOT NULL DEFAULT ' ',
		CTRY_ADR CHAR(20) NOT NULL DEFAULT ' ',
		UPIN_ID CHAR(6) NOT NULL DEFAULT ' ',
		OSCAR_ID CHAR(10) NOT NULL DEFAULT ' ',
		NSC_ID CHAR(10) NOT NULL DEFAULT ' ',
		EIN_ID CHAR(9) NOT NULL DEFAULT ' ',
		SPCY_TXT CHAR(20) NOT NULL DEFAULT ' ',
		GEN_SPCY_TXT CHAR(20) NOT NULL DEFAULT ' ',
		FLD_SRC_TXT CHAR(10) NOT NULL DEFAULT ' ',
		STUS_FLAG_CD CHAR(1) NOT NULL DEFAULT ' ',
		IMDY_ID CHAR(8) NOT NULL DEFAULT ' ',
		CARR_ID CHAR(6) NOT NULL DEFAULT ' ',
		SNCT_CNT SMALLINT NOT NULL DEFAULT 0,
		DTH_DT DATE,
		NOTE_TXT VARCHAR(200) NOT NULL DEFAULT '',
		LST_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		OPRR_USER_ID CHAR(8) NOT NULL DEFAULT USER,
		INT_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		NPI_ID CHAR(10) NOT NULL DEFAULT ' ',
		WVR_EFCTV_DT DATE NOT NULL DEFAULT '1900-01-01',
		WVR_END_DT DATE NOT NULL DEFAULT '1900-01-01',
		WVR_LST_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		WVR_USER_ID CHAR(8) NOT NULL DEFAULT ' ',
		WVR_TXT VARCHAR(2000) NOT NULL DEFAULT '',
		PRIMARY KEY	(MED_REC_ID)
	);
commit;





############### REST of the TABLES       ##########################################


CREATE TABLE med_local.MED_ADDR_HISTORY (
		MED_REC_ID INTEGER NOT NULL,
		TM_STMP_TM TIMESTAMP NOT NULL,
		STR_ADR CHAR(30) NOT NULL DEFAULT ' ',
		CITY_ADR CHAR(20) NOT NULL DEFAULT ' ',
		ST_ADR CHAR(2) NOT NULL DEFAULT ' ',
		ZIP_ADR CHAR(9) NOT NULL DEFAULT ' ',
		CTRY_ADR CHAR(20) NOT NULL DEFAULT ' ',
		STUS_FLAG_CD CHAR(1) NOT NULL DEFAULT ' ',
		DATA_SRC_TXT CHAR(20) NOT NULL DEFAULT ' ',
		LST_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		OPRR_USER_ID CHAR(8) NOT NULL DEFAULT USER ,
        PRIMARY KEY  ( MED_REC_ID,TM_STMP_TM )
        );
COMMIT;

CREATE TABLE med_local.MED_ALIAS_NM (
		REC_ID SMALLINT NOT NULL,
		PRI_IND CHAR(10) NOT NULL,
		FST_NM CHAR(15) NOT NULL,
		ALIS_ID SMALLINT NOT NULL	,
        PRIMARY KEY  ( REC_ID )
        );
COMMIT;



CREATE TABLE med_local.MED_AUDIT (
		PRCS_OWNR CHAR(10) NOT NULL,
		REC_ID INTEGER NOT NULL,
		OPRR_USER_ID CHAR(8) NOT NULL DEFAULT USER,
		LST_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		FLD_NM CHAR(18) NOT NULL,
		OLD_DATA CHAR(30) NOT NULL DEFAULT ' ',
		NEW_DATA CHAR(30) NOT NULL DEFAULT ' ',
	     PRIMARY KEY (REC_ID,PRCS_OWNR,OPRR_USER_ID,LST_UPDT_TM,FLD_NM)
) ;
COMMIT;

CREATE TABLE med_local.MED_CONTROL (
		PRCS_OWNR CHAR(10) NOT NULL,
		CNTL_TM_1 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		CNTL_VAL_1 CHAR(10) NOT NULL DEFAULT ' ',
		CNTL_TM_2 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		CNTL_VAL_2 CHAR(10) NOT NULL DEFAULT ' ',
		CNTL_TM_3 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		CNTL_VAL_3 CHAR(10) NOT NULL DEFAULT ' ',
		CNTL_TM_4 TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		CNTL_VAL_4 CHAR(10) NOT NULL DEFAULT ' ',
	PRIMARY KEY (PRCS_OWNR)
) ;
COMMIT;

CREATE TABLE med_local.MED_DOB_HISTORY (
		MED_REC_ID INTEGER NOT NULL,
		TM_STMP_TM TIMESTAMP NOT NULL,
		BRTH_DT DATE NOT NULL DEFAULT '0001-01-01',
		STUS_FLAG_CD CHAR(1) NOT NULL DEFAULT ' ',
		DATA_SRC_TXT CHAR(20) NOT NULL DEFAULT ' ',
		LST_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		OPRR_USER_ID CHAR(8) NOT NULL DEFAULT USER
,
         PRIMARY KEY
         (
          MED_REC_ID
          ,TM_STMP_TM
         )
        )
     ;
COMMIT;

CREATE TABLE med_local.MED_EIN_HISTORY (
		MED_REC_ID INTEGER NOT NULL,
		TM_STMP_TM TIMESTAMP NOT NULL,
		EIN_ID CHAR(9) NOT NULL DEFAULT ' ',
		STUS_FLAG_CD CHAR(1) NOT NULL DEFAULT ' ',
		DATA_SRC_TXT CHAR(20) NOT NULL DEFAULT ' ',
		LST_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		OPRR_USER_ID CHAR(8) NOT NULL DEFAULT USER
	 ,
         PRIMARY KEY
         (
          MED_REC_ID
          ,TM_STMP_TM
         )
        )
     ;
COMMIT;

CREATE TABLE med_local.MED_EXT_INTR (
		INTR_SYST_IND CHAR(4) NOT NULL,
		EXT_SYST_ID CHAR(10) NOT NULL,
		SSN_ID CHAR(9) NOT NULL DEFAULT ' ',
		LAST_NM CHAR(20) NOT NULL DEFAULT ' ',
		FST_NM CHAR(15) NOT NULL DEFAULT ' ',
		SFX_NM CHAR(5) NOT NULL DEFAULT ' ',
		MI_NM CHAR(15) NOT NULL DEFAULT ' ',
		BRTH_DT DATE,
		BUSN_NM CHAR(30) NOT NULL DEFAULT ' ',
		ST_ADR CHAR(2) NOT NULL DEFAULT ' ',
		STR1_ADR CHAR(30) NOT NULL DEFAULT ' ',
		STR2_ADR CHAR(30) NOT NULL DEFAULT ' ',
		CITY_ADR CHAR(20) NOT NULL DEFAULT ' ',
		ZIP_ADR CHAR(9) NOT NULL DEFAULT ' ',
		CTRY_ADR CHAR(20) NOT NULL DEFAULT ' ',
		DTH_DT DATE,
		EIN_ID CHAR(9) NOT NULL DEFAULT ' ',
		CARR_ID CHAR(6) NOT NULL DEFAULT ' ',
		IMDY_ID CHAR(8) NOT NULL DEFAULT ' ',
		UPIN_ID CHAR(6) DEFAULT ' ',
		UPIN_STATE_CD CHAR(2),
		DEA_ID CHAR(10),
		DEA_STATE_CD CHAR(2),
		MDCR_ID CHAR(10),
		MDCR_STATE_CD CHAR(2),
		MDCD_ID CHAR(10),
		MDCD_STATE_CD CHAR(2),
		OTHR_ID CHAR(10),
		OTHR_STATE_CD CHAR(2),
		OTHR_DESC CHAR(30)
	 ,
         CONSTRAINT INTR_SYST_IND
         PRIMARY KEY
         (
          INTR_SYST_IND
          ,EXT_SYST_ID
         )
        )
     ;
COMMIT;



CREATE TABLE med_local.MED_FILE_LOG (
		FILE_SRCE CHAR(4) NOT NULL,
		TM_STMP_TM TIMESTAMP NOT NULL,
		FILE_TYPE CHAR(10) NOT NULL DEFAULT ' ',
		START_ID INTEGER NOT NULL DEFAULT 0,
		END_ID INTEGER NOT NULL DEFAULT 0,
		REC_CNT INTEGER NOT NULL DEFAULT 0,
	  PRIMARY KEY (FILE_SRCE,TM_STMP_TM)
) ;

CREATE TABLE med_local.MED_FLST_LOAD (
		LOAD_ID INTEGER NOT NULL,
		FLST_RSN_CD_1 CHAR(1) NOT NULL DEFAULT ' ',
		FLST_RSN_CD_2 CHAR(1) NOT NULL DEFAULT ' ',
		FLST_RSN_CD_3 CHAR(1) NOT NULL DEFAULT ' ',
		FLST_RSN_CD_4 CHAR(1) NOT NULL DEFAULT ' ',
		FLST_RSN_CD_5 CHAR(1) NOT NULL DEFAULT ' ',
		FLST_RSN_CD_6 CHAR(1) NOT NULL DEFAULT ' ',
		FLST_RSN_CD_7 CHAR(1) NOT NULL DEFAULT ' ',
		FLST_RSN_CD_8 CHAR(1) NOT NULL DEFAULT ' ',
		FLST_RSN_CD_9 CHAR(1) NOT NULL DEFAULT ' ',
		FLST_RSN_CD_10 CHAR(1) NOT NULL DEFAULT ' ',
		STR_ADR CHAR(30) NOT NULL DEFAULT ' ',
		CITY_ADR CHAR(13) NOT NULL DEFAULT ' ',
		ST_ADR CHAR(2) NOT NULL DEFAULT ' ',
		ZIP_ADR CHAR(9) NOT NULL DEFAULT ' '
	  ,
         PRIMARY KEY
         (
          LOAD_ID
         )
        )
     ;
COMMIT;


CREATE TABLE med_local.MED_NAME_HISTORY (
		MED_REC_ID INTEGER NOT NULL,
		TM_STMP_TM TIMESTAMP NOT NULL,
		FST_NM CHAR(15) NOT NULL DEFAULT ' ',
		MI_NM CHAR(15) NOT NULL DEFAULT ' ',
		LAST_NM CHAR(20) NOT NULL DEFAULT ' ',
		SFX_NM CHAR(5) NOT NULL DEFAULT ' ',
		BUSN_NM CHAR(30) NOT NULL DEFAULT ' ',
		STUS_FLAG_CD CHAR(1) NOT NULL DEFAULT ' ',
		DATA_SRC_TXT CHAR(20) NOT NULL DEFAULT ' ',
		LST_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		OPRR_USER_ID CHAR(8) NOT NULL DEFAULT USER
	   ,
         PRIMARY KEY
         (
          MED_REC_ID
          ,TM_STMP_TM
         )
        )
     ;
COMMIT;


CREATE TABLE med_local.MED_NPI_EXT_INTR (
		NPI_ID CHAR(10) NOT NULL,
		PRVDR_TRKNG_ID CHAR(14) NOT NULL DEFAULT ' ',
		PRVDR_RFRNC_CD CHAR(1) NOT NULL,
		PRVDR_SSN_EIN_ID CHAR(9) NOT NULL DEFAULT ' ',
		PRVDR_NAME CHAR(70) NOT NULL DEFAULT ' ',
		PRVDR_1ST_NAME CHAR(20) NOT NULL DEFAULT ' ',
		PRVDR_MDL_NAME CHAR(20) NOT NULL DEFAULT ' ',
		PRVDR_BIRTH_DT DATE,
		PRCTC_CITY_NAME CHAR(40) NOT NULL DEFAULT ' ',
		PRCTC_STATE_CD CHAR(2) NOT NULL DEFAULT ' ',
		PRCTC_ZIP_CD CHAR(9) NOT NULL DEFAULT ' ',
		MLG_CITY_NAME CHAR(40) NOT NULL DEFAULT ' ',
		MLG_STATE_CD CHAR(2) NOT NULL DEFAULT ' ',
		MLG_ZIP_CD CHAR(9) NOT NULL DEFAULT ' ',
		PRVDR_PROFNL_NAME CHAR(70) NOT NULL DEFAULT ' ',
		PRVDR_PROFNL_MDL_NAME CHAR(20) NOT NULL DEFAULT ' ',
		PRVDR_PROFNL_1ST_NAME CHAR(20) NOT NULL DEFAULT ' ',
		PRVDR_PRVS_NAME CHAR(70) NOT NULL DEFAULT ' ',
		PRVDR_PRVS_MDL_NAME CHAR(20) NOT NULL DEFAULT ' ',
		PRVDR_PRVS_1ST_NAME CHAR(20) NOT NULL DEFAULT ' ',
		PRVDR_ALIAS_NAME CHAR(70) NOT NULL DEFAULT ' ',
		PRVDR_ALIAS_MDL_NAME CHAR(20) NOT NULL DEFAULT ' ',
		PRVDR_ALIAS_1ST_NAME CHAR(20) NOT NULL DEFAULT ' ',
		PRVDR_LGL_NAME CHAR(70) NOT NULL DEFAULT ' ',
		PRVDR_LGL_MDL_NAME CHAR(20) NOT NULL DEFAULT ' ',
		PRVDR_LGL_1ST_NAME CHAR(20) NOT NULL DEFAULT ' ',
		PRVDR_OTHR_NAME CHAR(70) NOT NULL DEFAULT ' ',
		PRVDR_OTHR_MDL_NAME CHAR(20) NOT NULL,
		PRVDR_OTHR_1ST_NAME CHAR(20) NOT NULL DEFAULT ' ',
		PRVDR_CRNT_NAME CHAR(70) NOT NULL DEFAULT ' ',
		PRVDR_CRNT_MDL_NAME CHAR(20) NOT NULL DEFAULT ' ',
		PRVDR_CRNT_1ST_NAME CHAR(20) NOT NULL DEFAULT ' ',
	 PRIMARY KEY (NPI_ID)
) ;
COMMIT;







CREATE TABLE med_local.MED_NPI_HISTORY (
		MED_REC_ID SMALLINT NOT NULL,
		REC_RCVD_TMESTMP TIMESTAMP NOT NULL,
		NPI_ID CHAR(10) NOT NULL DEFAULT '',
		STUS_FLAG_CD CHAR(1) NOT NULL DEFAULT '',
		DATA_SRC_TXT CHAR(20) NOT NULL DEFAULT '',
		LST_UPDT_TMESTMP TIMESTAMP NOT NULL,
		OPRTR_USER_ID CHAR(8) NOT NULL DEFAULT '',
	PRIMARY KEY (MED_REC_ID, REC_RCVD_TMESTMP)
) ;
COMMIT;




CREATE TABLE med_local.MED_NSC_HISTORY (
		MED_REC_ID INTEGER NOT NULL,
		TM_STMP_TM TIMESTAMP NOT NULL,
		NSC_ID CHAR(10) NOT NULL DEFAULT ' ',
		STUS_FLAG_CD CHAR(1) NOT NULL DEFAULT ' ',
		DATA_SRC_TXT CHAR(20) NOT NULL DEFAULT ' ',
		LST_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		OPRR_USER_ID CHAR(8) NOT NULL DEFAULT USER,
         PRIMARY KEY
         (
          MED_REC_ID
          ,TM_STMP_TM
         )
        )
     ;
COMMIT;



CREATE TABLE med_local.MED_OPS (
		PRCS_OWNR CHAR(10) NOT NULL,
		RUN_DT DATE NOT NULL,
		SQNC_NUM SMALLINT NOT NULL,
		TOT_REC_PRCS INTEGER NOT NULL DEFAULT 0,
		TOT_REC_IN_ERR INTEGER NOT NULL DEFAULT 0,
		STUS CHAR(1) NOT NULL DEFAULT ' ',
		TM_STMP_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
         CONSTRAINT PRCS_OWNR
         PRIMARY KEY
         (
          PRCS_OWNR
          ,RUN_DT
          ,SQNC_NUM
         )
        )
     ;
COMMIT;

CREATE TABLE med_local.MED_OSCAR_HISTORY (
		MED_REC_ID INTEGER NOT NULL,
		TM_STMP_TM TIMESTAMP NOT NULL,
		OSCAR_ID CHAR(10) NOT NULL DEFAULT ' ',
		STUS_FLAG_CD CHAR(1) NOT NULL DEFAULT ' ',
		DATA_SRC_TXT CHAR(20) NOT NULL DEFAULT ' ',
		LST_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		OPRR_USER_ID CHAR(8) NOT NULL DEFAULT USER,
         PRIMARY KEY
         (
          MED_REC_ID
          ,TM_STMP_TM
         )
        )
     ;
COMMIT;

CREATE TABLE med_local.MED_REF (
		LOOKUP_ID CHAR(2) NOT NULL,
		LOOKUP_TYPE_NM CHAR(20) NOT NULL,
		LOOKUP_RSLT VARCHAR(150) NOT NULL,
 CONSTRAINT LOOKUP_ID
         PRIMARY KEY
         (
          LOOKUP_ID
          ,LOOKUP_TYPE_NM
         )
        )
     ;
COMMIT;

CREATE TABLE med_local.MED_RPRT_DTL (
		PRCS_OWNR CHAR(10) NOT NULL,
		RPRT_TYPE_IND CHAR(4) NOT NULL,
		RUN_DT DATE NOT NULL,
		SQNC_NUM SMALLINT NOT NULL,
		REC_TYPE_IND CHAR(1) NOT NULL,
		MED_REC_ID INTEGER NOT NULL,
		LOAD_ID INTEGER NOT NULL DEFAULT 0,
		RPRT_TXT VARCHAR(500) NOT NULL DEFAULT '',
	 PRIMARY KEY (PRCS_OWNR, RPRT_TYPE_IND, RUN_DT, SQNC_NUM, REC_TYPE_IND)	);
COMMIT;




CREATE TABLE med_local.MED_RPRT_ERR (
		PRCS_OWNR CHAR(10) NOT NULL,
		RPRT_TYPE_IND CHAR(4) NOT NULL,
		CRT_DT DATE NOT NULL,
		REC_ID INTEGER NOT NULL,
		CRT_SQNC_NUM SMALLINT NOT NULL,
		ERR_SQNC_NUM INTEGER NOT NULL,
		ERR_CD CHAR(10) NOT NULL DEFAULT ' ',
		ERR_STUS_CD CHAR(1) NOT NULL DEFAULT 'Y',
		FLD_IN_ERR_CD CHAR(18) NOT NULL DEFAULT ' ',
		ERR_TYPE_IND CHAR(10) NOT NULL DEFAULT ' ',
		REC_IN_ERR VARCHAR(500) NOT NULL DEFAULT '',
	PRIMARY KEY	(PRCS_OWNR,	 RPRT_TYPE_IND,	 CRT_DT, REC_ID, CRT_SQNC_NUM,ERR_SQNC_NUM)
	 );
COMMIT;

CREATE TABLE med_local.MED_SECURITY (
		OPRR_USER_ID CHAR(72) NOT NULL,
		ACS_LVL CHAR(10) NOT NULL DEFAULT ' ',
		USER_STUS CHAR(4) NOT NULL DEFAULT ' ',
		USER_1ST_NAME CHAR(15) NOT NULL DEFAULT ' ',
		USER_LAST_NAME CHAR(40) NOT NULL DEFAULT ' ',
		USER_ORG_NAME CHAR(55) NOT NULL DEFAULT ' ',
		USER_EMAIL_ID CHAR(40) NOT NULL DEFAULT ' ',
		USER_TEL_NUM CHAR(20) NOT NULL DEFAULT ' ',
		CREAT_USER_ID CHAR(8) NOT NULL DEFAULT ' ',
		UPDT_USER_ID CHAR(8) NOT NULL DEFAULT ' ',
		CREATE_TS TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		UPDT_TS TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		USER_LGCY_ID CHAR(8) NOT NULL DEFAULT '',
		USER_RQST_TYPE CHAR(30) NOT NULL DEFAULT '',
		USER_CONTR_ID CHAR(30) NOT NULL DEFAULT '',
		USER_CERT_DT TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	 PRIMARY KEY (OPRR_USER_ID)
) ;
COMMIT;


CREATE TABLE med_local.MED_SN_RST (
		SNCT_ID INTEGER NOT NULL,
		MED_REC_ID INTEGER NOT NULL,
		PRVDR_SNCT_ID SMALLINT NOT NULL,
		TM_STMP_TM TIMESTAMP NOT NULL,
		SNCT_TYPE_CD CHAR(9) NOT NULL DEFAULT ' ',
		SNCT_DT DATE NOT NULL,
		RNST_DT DATE,
		STUS_FLAG_CD CHAR(1) NOT NULL DEFAULT ' ',
		DATA_SRC_TXT CHAR(20) NOT NULL DEFAULT ' ',
		LST_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		OPRR_USER_ID CHAR(8) NOT NULL DEFAULT USER,
		NOTE_TXT VARCHAR(200) NOT NULL DEFAULT '',
	 PRIMARY KEY (MED_REC_ID,TM_STMP_TM)
);
COMMIT;


CREATE TABLE med_local.MED_SSN_HISTORY (
		MED_REC_ID INTEGER NOT NULL,
		TM_STMP_TM TIMESTAMP NOT NULL,
		SSN_ID CHAR(9) NOT NULL DEFAULT ' ',
		STUS_FLAG_CD CHAR(1) NOT NULL DEFAULT ' ',
		DATA_SRC_TXT CHAR(20) NOT NULL DEFAULT ' ',
		LST_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		OPRR_USER_ID CHAR(8) NOT NULL DEFAULT USER,

     PRIMARY KEY
     (
      MED_REC_ID
      ,TM_STMP_TM
     )
    )
 ;

COMMIT;

CREATE TABLE med_local.MED_UPIN_HISTORY (
		MED_REC_ID INTEGER NOT NULL,
		TM_STMP_TM TIMESTAMP NOT NULL,
		UPIN_ID CHAR(6) NOT NULL DEFAULT ' ',
		STUS_FLAG_CD CHAR(1) NOT NULL DEFAULT ' ',
		DATA_SRC_TXT CHAR(20) NOT NULL DEFAULT ' ',
		LST_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		OPRR_USER_ID CHAR(8) NOT NULL DEFAULT USER
	,
         PRIMARY KEY
         (
          MED_REC_ID
          ,TM_STMP_TM
         )
        )
     ;
COMMIT;


CREATE TABLE med_local.MED_WVR_HISTORY (
		MED_REC_ID INTEGER NOT NULL,
		TM_STMP_TM TIMESTAMP NOT NULL,
		WVR_EFCTV_DT DATE NOT NULL DEFAULT '1900-01-01',
		WVR_END_DT DATE NOT NULL DEFAULT '1900-01-01',
		WVR_TXT VARCHAR(2000) NOT NULL DEFAULT '',
		LST_UPDT_TM TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
		OPRR_USER_ID CHAR(8) NOT NULL DEFAULT USER
	  ,
         CONSTRAINT MED_REC_ID
         PRIMARY KEY
         (
          MED_REC_ID
          ,TM_STMP_TM
         )
        )
      ;
COMMIT;



